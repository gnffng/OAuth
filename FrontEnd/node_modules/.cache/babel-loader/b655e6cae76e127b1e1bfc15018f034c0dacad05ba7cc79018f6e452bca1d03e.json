{"ast":null,"code":"import axios from \"axios\";\nconst axiosCors = axios.create({\n  baseURL: `http://localhost:${process.env.REACT_PORT}`\n});\n\n// 요청 인터셉터\naxiosCors.interceptors.request.use(async function (config) {\n  // const csrf = await axios.get(\"/oauth2/csrf\");\n  // console.log(csrf);\n  config.headers = {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  };\n  config.params = {\n    ...config.params,\n    workCont: window.location.pathname\n  };\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\n\n// 응답 인터셉터\naxiosCors.interceptors.response.use(function (response) {\n  return response;\n}, async function (error) {\n  const originalConfig = error.config;\n  console.log(error);\n  if (error.response.status === 401 && !originalConfig._retry) {\n    originalConfig._retry = true;\n    return axiosCors(originalConfig);\n  }\n  return Promise.reject(error);\n});\nexport default axiosCors;","map":{"version":3,"names":["axios","axiosCors","create","baseURL","process","env","REACT_PORT","interceptors","request","use","config","headers","Accept","params","workCont","window","location","pathname","error","Promise","reject","response","originalConfig","console","log","status","_retry"],"sources":["C:/Users/ENSSEL/Desktop/workspace/OnePoon/FrontEnd/src/Module/interceptor/axiosCorsInterceptor.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst axiosCors = axios.create({\r\n    baseURL: `http://localhost:${process.env.REACT_PORT}`,\r\n});\r\n\r\n// 요청 인터셉터\r\naxiosCors.interceptors.request.use(\r\n    async function (config) {\r\n        // const csrf = await axios.get(\"/oauth2/csrf\");\r\n        // console.log(csrf);\r\n        config.headers = {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        };\r\n\r\n        config.params = { ...config.params, workCont: window.location.pathname };\r\n\r\n        return config;\r\n    },\r\n    function (error) {\r\n        return Promise.reject(error);\r\n    },\r\n);\r\n\r\n// 응답 인터셉터\r\naxiosCors.interceptors.response.use(\r\n    function (response) {\r\n        return response;\r\n    },\r\n    async function (error) {\r\n        const originalConfig = error.config;\r\n\r\n        console.log(error);\r\n\r\n        if (error.response.status === 401 && !originalConfig._retry) {\r\n            originalConfig._retry = true;\r\n\r\n            return axiosCors(originalConfig);\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    },\r\n);\r\n\r\nexport default axiosCors;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC3BC,OAAO,EAAG,oBAAmBC,OAAO,CAACC,GAAG,CAACC,UAAW;AACxD,CAAC,CAAC;;AAEF;AACAL,SAAS,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9B,gBAAgBC,MAAM,EAAE;EACpB;EACA;EACAA,MAAM,CAACC,OAAO,GAAG;IACbC,MAAM,EAAE,kBAAkB;IAC1B,cAAc,EAAE;EACpB,CAAC;EAEDF,MAAM,CAACG,MAAM,GAAG;IAAE,GAAGH,MAAM,CAACG,MAAM;IAAEC,QAAQ,EAAEC,MAAM,CAACC,QAAQ,CAACC;EAAS,CAAC;EAExE,OAAOP,MAAM;AACjB,CAAC,EACD,UAAUQ,KAAK,EAAE;EACb,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CACJ;;AAED;AACAjB,SAAS,CAACM,YAAY,CAACc,QAAQ,CAACZ,GAAG,CAC/B,UAAUY,QAAQ,EAAE;EAChB,OAAOA,QAAQ;AACnB,CAAC,EACD,gBAAgBH,KAAK,EAAE;EACnB,MAAMI,cAAc,GAAGJ,KAAK,CAACR,MAAM;EAEnCa,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC;EAElB,IAAIA,KAAK,CAACG,QAAQ,CAACI,MAAM,KAAK,GAAG,IAAI,CAACH,cAAc,CAACI,MAAM,EAAE;IACzDJ,cAAc,CAACI,MAAM,GAAG,IAAI;IAE5B,OAAOzB,SAAS,CAACqB,cAAc,CAAC;EACpC;EAEA,OAAOH,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CACJ;AAED,eAAejB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}