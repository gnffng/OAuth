{"ast":null,"code":"import axios from \"axios\";\nconst axiosCors = axios.create();\n\n// 요청 인터셉터\naxiosCors.interceptors.request.use(async function (config) {\n  const csrfResp = await axios.get(\"/oauth2/csrf\");\n  console.log(csrfResp);\n  // 'X-CSRF-TOKEN': csrfResp.data.token,\n  config.headers = {\n    'X-CSRF-TOKEN': csrfResp.data.token\n  };\n\n  // console.log(config);\n\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\n\n// 응답 인터셉터\naxiosCors.interceptors.response.use(function (response) {\n  return response;\n}, async function (error) {\n  //         const originalConfig = error.config;\n  //\n  //         console.log(error);\n  //\n  //         if (error.response.status === 401 && !originalConfig._retry) {\n  //             originalConfig._retry = true;\n  //\n  //             return axiosCors(originalConfig);\n  //         }\n  //\n  return Promise.reject(error);\n});\nexport default axiosCors;","map":{"version":3,"names":["axios","axiosCors","create","interceptors","request","use","config","csrfResp","get","console","log","headers","data","token","error","Promise","reject","response"],"sources":["C:/Users/ENSSEL/Desktop/workspace/OnePoon/FrontEnd/src/Module/interceptor/axiosCorsInterceptor.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst axiosCors = axios.create();\r\n\r\n// 요청 인터셉터\r\naxiosCors.interceptors.request.use(\r\n    async function (config) {\r\n        const csrfResp = await axios.get(\"/oauth2/csrf\");\r\n        console.log(csrfResp);\r\n        // 'X-CSRF-TOKEN': csrfResp.data.token,\r\n        config.headers = {\r\n            'X-CSRF-TOKEN': csrfResp.data.token,\r\n        };\r\n\r\n        // console.log(config);\r\n\r\n        return config;\r\n    },\r\n    function (error) {\r\n        return Promise.reject(error);\r\n    },\r\n);\r\n\r\n// 응답 인터셉터\r\naxiosCors.interceptors.response.use(\r\n    function (response) {\r\n        return response;\r\n    },\r\n    async function (error) {\r\n//         const originalConfig = error.config;\r\n//\r\n//         console.log(error);\r\n//\r\n//         if (error.response.status === 401 && !originalConfig._retry) {\r\n//             originalConfig._retry = true;\r\n//\r\n//             return axiosCors(originalConfig);\r\n//         }\r\n//\r\n        return Promise.reject(error);\r\n    },\r\n);\r\n\r\nexport default axiosCors;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,EAAE;;AAEhC;AACAD,SAAS,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CAC9B,gBAAgBC,MAAM,EAAE;EACpB,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,cAAc,CAAC;EAChDC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;EACrB;EACAD,MAAM,CAACK,OAAO,GAAG;IACb,cAAc,EAAEJ,QAAQ,CAACK,IAAI,CAACC;EAClC,CAAC;;EAED;;EAEA,OAAOP,MAAM;AACjB,CAAC,EACD,UAAUQ,KAAK,EAAE;EACb,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CACJ;;AAED;AACAb,SAAS,CAACE,YAAY,CAACc,QAAQ,CAACZ,GAAG,CAC/B,UAAUY,QAAQ,EAAE;EAChB,OAAOA,QAAQ;AACnB,CAAC,EACD,gBAAgBH,KAAK,EAAE;EAC3B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACQ,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CACJ;AAED,eAAeb,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}